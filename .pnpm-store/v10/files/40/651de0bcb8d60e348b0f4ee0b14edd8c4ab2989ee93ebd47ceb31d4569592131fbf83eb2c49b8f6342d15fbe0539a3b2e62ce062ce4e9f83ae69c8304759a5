import type { IndexingStore } from '../indexing-store/index.js';
import type { Common } from '../internal/common.js';
import type { Event, IndexingBuild, Schema, SetupEvent } from '../internal/types.js';
import type { SyncStore } from '../sync-store/index.js';
import type { Db } from '../types/db.js';
import type { DeepPartial } from '../types/utils.js';
import type { RequestQueue } from '../utils/requestQueue.js';
import { type Abi, type Address } from "viem";
import type { ReadOnlyClient } from "./ponderActions.js";
export type Context = {
    network: {
        chainId: number;
        name: string;
    };
    client: ReadOnlyClient;
    db: Db<Schema>;
    contracts: Record<string, {
        abi: Abi;
        address?: Address | readonly Address[];
        startBlock?: number;
        endBlock?: number;
    }>;
};
export type Indexing = {
    processSetupEvents: ({ db, }: {
        db: IndexingStore;
    }) => Promise<{
        status: "error";
        error: Error;
    } | {
        status: "success";
    }>;
    processEvents: ({ events, db, }: {
        events: Event[];
        db: IndexingStore;
    }) => Promise<{
        status: "error";
        error: Error;
    } | {
        status: "success";
    }>;
};
export declare const createIndexing: ({ common, indexingBuild: { sources, networks, indexingFunctions }, requestQueues, syncStore, }: {
    common: Common;
    indexingBuild: Pick<IndexingBuild, "sources" | "networks" | "indexingFunctions">;
    requestQueues: RequestQueue[];
    syncStore: SyncStore;
}) => Indexing;
export declare const toErrorMeta: (event: DeepPartial<Event> | DeepPartial<SetupEvent>) => string | undefined;
export declare const addErrorMeta: (error: unknown, meta: string | undefined) => void;
//# sourceMappingURL=index.d.ts.map